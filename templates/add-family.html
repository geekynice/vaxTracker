{% extends 'base.html' %} {% load static %} {% block content %}
<!-- Content Start -->
<div class="content">
    {% include 'nav.html' %}

    <!-- Form Start -->
    <div class="container-fluid pt-4 px-4">
        <div class="row g-4">
            <div class="col-sm-12 col-xl-12">
                <div class="bg-light rounded h-100 p-4">
                    <h4 class="text-center py-3">Family Details Form</h4>
                    <form method="post" action="{% url 'add-family' %}" id="familyForm">
                        {% csrf_token %}
                        <div class="row">
                            <div class="col-xl-4">
                                <div class="mb-3">
                                    <label for="address">Address:</label>
                                    <input class="form-control" type="text" name="address" id="address" required />
                                </div>
                            </div>
                            <div class="col-xl-4">
                                <div class="mb-3">
                                    <label for="doctor_assigned">Assign Doctor:</label>
                                    <select name="doctor_assigned" id="doctor_assigned" class="form-select">
                                        {% for doctor in doctors %}
                                            <option value="{{doctor.username}}">{{doctor.username}}</option>
                                        {% endfor %}
                                    </select>
                                </div>
                            </div>
                            <div class="col-xl-4">
                                <div class="mb-3">
                                    <label for="totalMembers">Total Members:</label>
                                    <input type="number" id="totalMembers" name="totalMembers" class="form-control">
                                </div>
                            </div>
                        </div>

                        <!-- Family members container -->
                        <div id="family-members-container">
                            <!-- Family members input fields will be added here dynamically -->
                        </div>

                        <!-- Button to add more family members -->
                        <!-- <button type="button" class="btn btn-sm btn-primary" id="add-member-btn">Add Family
                            Member</button> -->

                        <!-- Display totals without separate input fields -->
                        <!-- <div class="d-flex align-items-center justify-content-between my-3">
                            <strong>Total People:</strong> <span id="totalPeople" name="totalPeople">0</span><br />
                            <strong>Total Vaccinated:</strong>
                            <span id="totalVaccinated" name="totalVaccinated">0</span><br />
                            <strong>Total Adults:</strong> <span id="totalAdults" name="totalAdults">0</span><br />
                            <strong>Total Infants:</strong> <span id="totalInfants" name="totalInfants">0</span>
                            
                        </div> -->

                        <!-- Submit button -->
                        <button type="submit" class="btn btn-success" >Add Family</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Form End -->

    {% include 'footer.html' %}
</div>
<!-- Content End -->

{% endblock content %}